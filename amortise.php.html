<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Show source for: amortise.php</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" lang="EN" content="Tony Marston" />
	<style type="text/css">
	<!--
		code { font-weight: bold; }
	-->
	</style>
</head>
<body>

<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//*****************************************************************************<br />//&nbsp;Copyright&nbsp;2002&nbsp;by&nbsp;A&nbsp;J&nbsp;Marston&nbsp;&lt;http://www.tonymarston.net&gt;<br />//&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;Licence<br />//*****************************************************************************<br /><br />//<br />//&nbsp;Calculate&nbsp;interest&nbsp;rate&nbsp;and&nbsp;produce&nbsp;loan&nbsp;amortisation&nbsp;schedule.<br />//<br />//&nbsp;This&nbsp;will&nbsp;accept&nbsp;any&nbsp;3&nbsp;of&nbsp;the&nbsp;4&nbsp;components&nbsp;of&nbsp;the&nbsp;calculation,<br />//&nbsp;calculate&nbsp;the&nbsp;missing&nbsp;component,&nbsp;then&nbsp;produce&nbsp;a&nbsp;repayment&nbsp;schedule<br />//&nbsp;showing&nbsp;the&nbsp;split&nbsp;between&nbsp;interest&nbsp;and&nbsp;principle&nbsp;for&nbsp;each&nbsp;payment.<br /><br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;"-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN"&nbsp;"http://www.w3.org/TR/html4/loose.dtd"&gt;<br />&lt;html&gt;<br />&lt;head&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;Loan&nbsp;Amortisation&nbsp;Schedule&lt;/title&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv='Content-type'&nbsp;content='text/html;&nbsp;charset=UTF-8'&nbsp;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&nbsp;type="text/css"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P.error&nbsp;{&nbsp;margin-top:&nbsp;0pt;&nbsp;color:&nbsp;red;&nbsp;font-weight:&nbsp;bold;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br />&lt;/head&gt;<br />&lt;body&gt;<br />&lt;div&nbsp;align="center"&gt;<br />&lt;h1&gt;Loan&nbsp;Amortisation&nbsp;Schedule&lt;/h1&gt;<br /><br /><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;look&nbsp;for&nbsp;no&nbsp;POST&nbsp;entries,&nbsp;or&nbsp;the&nbsp;RESET&nbsp;button<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">or&nbsp;@</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'reset'</span><span style="color: #007700">])&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;POST&nbsp;array&nbsp;is&nbsp;empty&nbsp;-&nbsp;set&nbsp;initial&nbsp;values<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$principal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">484411.01</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$number&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">19</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1.044813912</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$payment&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">28242.11</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;retrieve&nbsp;values&nbsp;from&nbsp;POST&nbsp;array<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$principal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'principal'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$number&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'number'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'rate'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$payment&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'payment'</span><span style="color: #007700">];<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br />//&nbsp;validate&nbsp;all&nbsp;fields<br /></span><span style="color: #0000BB">$error&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />if&nbsp;(!empty(</span><span style="color: #0000BB">$principal</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_numeric</span><span style="color: #007700">(</span><span style="color: #0000BB">$principal</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'principal'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"must&nbsp;be&nbsp;numeric"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$principal&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'principal'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"must&nbsp;be&nbsp;&gt;&nbsp;zero"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$principal&nbsp;</span><span style="color: #007700">=&nbsp;(float)</span><span style="color: #0000BB">$principal</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;convert&nbsp;to&nbsp;floating&nbsp;point<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br /></span><span style="color: #007700">if&nbsp;(!empty(</span><span style="color: #0000BB">$number</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^[0-9]+$/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'number'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"must&nbsp;be&nbsp;an&nbsp;integer"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$number&nbsp;</span><span style="color: #007700">=&nbsp;(int)</span><span style="color: #0000BB">$number</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;convert&nbsp;to&nbsp;integer<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br /></span><span style="color: #007700">if&nbsp;(!empty(</span><span style="color: #0000BB">$rate</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_numeric</span><span style="color: #007700">(</span><span style="color: #0000BB">$rate</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'rate'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"must&nbsp;be&nbsp;numeric"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$rate&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'rate'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"must&nbsp;be&nbsp;&gt;&nbsp;zero"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rate&nbsp;</span><span style="color: #007700">=&nbsp;(float)</span><span style="color: #0000BB">$rate</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;convert&nbsp;to&nbsp;floating&nbsp;point<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br /></span><span style="color: #007700">if&nbsp;(!empty(</span><span style="color: #0000BB">$payment</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_numeric</span><span style="color: #007700">(</span><span style="color: #0000BB">$payment</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'payment'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"must&nbsp;be&nbsp;numeric"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$payment&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'payment'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"must&nbsp;be&nbsp;&gt;&nbsp;zero"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$payment&nbsp;</span><span style="color: #007700">=&nbsp;(float)</span><span style="color: #0000BB">$payment</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;convert&nbsp;to&nbsp;floating&nbsp;point<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$error</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;no&nbsp;errors&nbsp;-&nbsp;perform&nbsp;requested&nbsp;action<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'button1'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$principal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">calc_principal</span><span style="color: #007700">(</span><span style="color: #0000BB">$number</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$rate</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$payment</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'button2'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">calc_number</span><span style="color: #007700">(</span><span style="color: #0000BB">$principal&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$rate</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$payment</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'button3'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rate&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">calc_rate</span><span style="color: #007700">(</span><span style="color: #0000BB">$principal</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$payment</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'button4'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$payment&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">calc_payment</span><span style="color: #007700">(</span><span style="color: #0000BB">$principal</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$rate</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;form&nbsp;action="<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'PHP_SELF'</span><span style="color: #007700">]&nbsp;</span><span style="color: #0000BB">?&gt;</span>"&nbsp;method="POST"&gt;<br />&lt;table&nbsp;border="1"&gt;<br />&lt;colgroup&nbsp;align="right"&gt;<br />&lt;colgroup&nbsp;align="left"&gt;<br />&lt;colgroup&nbsp;align="center"&gt;<br />&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;Principal&lt;/td&gt;&lt;td&gt;&lt;input&nbsp;type="text"&nbsp;name="principal"&nbsp;value="<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$principal&nbsp;?&gt;</span>"&nbsp;&gt;<br /><span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'principal'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'&lt;p&nbsp;class="error"&gt;'&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'principal'</span><span style="color: #007700">]&nbsp;.</span><span style="color: #DD0000">'&lt;/p&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;&lt;td&gt;&lt;input&nbsp;type="submit"&nbsp;name="button1"&nbsp;value="calculate&nbsp;Principal"&nbsp;&gt;&lt;/td&gt;<br />&lt;/tr&gt;<br />&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;Number&nbsp;of&nbsp;Payments&lt;/td&gt;&lt;td&gt;&lt;input&nbsp;type="text"&nbsp;name="number"&nbsp;value="<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$number&nbsp;?&gt;</span>"&nbsp;&gt;<br /><span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'number'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'&lt;p&nbsp;class="error"&gt;'&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'number'</span><span style="color: #007700">]&nbsp;.</span><span style="color: #DD0000">'&lt;/p&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;&lt;td&gt;&lt;input&nbsp;type="submit"&nbsp;name="button2"&nbsp;value="calculate&nbsp;Number&nbsp;"&nbsp;&gt;&lt;/td&gt;<br />&lt;/tr&gt;<br />&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;Interest&nbsp;Rate&nbsp;(%)&nbsp;per&nbsp;Payment&lt;/td&gt;&lt;td&gt;&lt;input&nbsp;type="text"&nbsp;name="rate"&nbsp;value="<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$rate&nbsp;?&gt;</span>"&nbsp;&gt;<br /><span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'rate'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'&lt;p&nbsp;class="error"&gt;'&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'rate'</span><span style="color: #007700">]&nbsp;.</span><span style="color: #DD0000">'&lt;/p&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;&lt;td&gt;&lt;input&nbsp;type="submit"&nbsp;name="button3"&nbsp;value="calculate&nbsp;Interest&nbsp;&nbsp;&nbsp;"&nbsp;&gt;&lt;/td&gt;<br />&lt;/tr&gt;<br />&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;Payment&lt;/td&gt;&lt;td&gt;&lt;input&nbsp;type="text"&nbsp;name="payment"&nbsp;value="<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$payment&nbsp;?&gt;</span>"&nbsp;&gt;<br /><span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'payment'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'&lt;p&nbsp;class="error"&gt;'&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">[</span><span style="color: #DD0000">'payment'</span><span style="color: #007700">]&nbsp;.</span><span style="color: #DD0000">'&lt;/p&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;&lt;td&gt;&lt;input&nbsp;type="submit"&nbsp;name="button4"&nbsp;value="calculate&nbsp;Payment"&nbsp;&gt;&lt;/td&gt;<br />&lt;/tr&gt;<br />&lt;/table&gt;<br />&lt;p&gt;&lt;input&nbsp;type="submit"&nbsp;name="reset"&nbsp;value="reset"&nbsp;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;input&nbsp;type="submit"&nbsp;name="button5"&nbsp;value&nbsp;="Payment&nbsp;Schedule"&nbsp;&gt;&lt;/p&gt;<br />&lt;/form&gt;<br /><br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'button5'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">print_schedule</span><span style="color: #007700">(</span><span style="color: #0000BB">$principal</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$rate</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$payment</span><span style="color: #007700">);<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;/div&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;<br /><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">calc_principal</span><span style="color: #007700">(</span><span style="color: #0000BB">$payno</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$int</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">)<br />{<br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;that&nbsp;required&nbsp;values&nbsp;have&nbsp;been&nbsp;supplied<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$payno</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;NUMBER&nbsp;of&nbsp;PAYMENTS&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$int</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;INTEREST&nbsp;RATE&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;PAYMENT&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br />//&nbsp;now&nbsp;do&nbsp;the&nbsp;calculation&nbsp;using&nbsp;this&nbsp;formula:<br /><br />//******************************************<br />//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((1&nbsp;+&nbsp;INT)&nbsp;**&nbsp;PAYNO)&nbsp;-&nbsp;1<br />//&nbsp;PV&nbsp;=&nbsp;PMT&nbsp;*&nbsp;--------------------------<br />//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INT&nbsp;*&nbsp;((1&nbsp;+&nbsp;INT)&nbsp;**&nbsp;PAYNO)<br />//******************************************<br /><br /></span><span style="color: #0000BB">$int&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//convert&nbsp;to&nbsp;percentage<br /></span><span style="color: #0000BB">$value1&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">pow</span><span style="color: #007700">((</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$int</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$payno</span><span style="color: #007700">))&nbsp;-&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$value2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">pow</span><span style="color: #007700">((</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$int</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$payno</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$pv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$pmt&nbsp;</span><span style="color: #007700">*&nbsp;(</span><span style="color: #0000BB">$value1&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">$value2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$pv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$pv</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">);<br /><br />return&nbsp;</span><span style="color: #0000BB">$pv</span><span style="color: #007700">;<br /><br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;calc_principal&nbsp;==================================================================<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">calc_number</span><span style="color: #007700">(</span><span style="color: #0000BB">$pv</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$int</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">)<br />{<br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;that&nbsp;required&nbsp;values&nbsp;have&nbsp;been&nbsp;supplied<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$pv</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;PRINCIPAL&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$int</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;INTEREST&nbsp;RATE&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;PAYMENT&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br />//&nbsp;now&nbsp;do&nbsp;the&nbsp;calculation&nbsp;using&nbsp;this&nbsp;formula:<br /><br />//******************************************<br />//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log(1&nbsp;-&nbsp;INT&nbsp;*&nbsp;PV/PMT)<br />//&nbsp;PAYNO&nbsp;=&nbsp;---------------------<br />//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log(1&nbsp;+&nbsp;INT)<br />//******************************************<br /><br /></span><span style="color: #0000BB">$int&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$value1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">*&nbsp;(</span><span style="color: #0000BB">$pv&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$value2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$int</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$payno&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$value1&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">$value2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$payno&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">abs</span><span style="color: #007700">(</span><span style="color: #0000BB">$payno</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$payno&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$payno</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">);<br /><br />return&nbsp;</span><span style="color: #0000BB">$payno</span><span style="color: #007700">;<br /><br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;calc_number&nbsp;=====================================================================<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">calc_rate</span><span style="color: #007700">(</span><span style="color: #0000BB">$pv</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$payno</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">)<br />{<br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;that&nbsp;required&nbsp;values&nbsp;have&nbsp;been&nbsp;supplied<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$pv</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;PRINCIPAL&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$payno</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;NUMBER&nbsp;of&nbsp;PAYMENTS&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;PAYMENT&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br />//&nbsp;now&nbsp;try&nbsp;and&nbsp;guess&nbsp;the&nbsp;value&nbsp;using&nbsp;the&nbsp;binary&nbsp;chop&nbsp;technique<br /></span><span style="color: #0000BB">$GuessHigh&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;(float)</span><span style="color: #0000BB">100</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;maximum&nbsp;value<br /></span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">=&nbsp;(float)</span><span style="color: #0000BB">2.5</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;first&nbsp;guess<br /></span><span style="color: #0000BB">$GuessLow&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;(float)</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;minimum&nbsp;value<br /></span><span style="color: #0000BB">$GuessPMT&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;(float)</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;result&nbsp;of&nbsp;test&nbsp;calculation<br /><br /></span><span style="color: #007700">do&nbsp;{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;use&nbsp;current&nbsp;value&nbsp;for&nbsp;GuessMiddle&nbsp;as&nbsp;the&nbsp;interest&nbsp;rate,<br />&nbsp;&nbsp;&nbsp;//&nbsp;and&nbsp;set&nbsp;level&nbsp;of&nbsp;accurracy&nbsp;to&nbsp;6&nbsp;decimal&nbsp;places<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$GuessPMT&nbsp;</span><span style="color: #007700">=&nbsp;(float)</span><span style="color: #0000BB">calc_payment</span><span style="color: #007700">(</span><span style="color: #0000BB">$pv</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$payno</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$GuessMiddle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$GuessPMT&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;guess&nbsp;is&nbsp;too&nbsp;high<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$GuessHigh&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$GuessMiddle</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$GuessLow</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$GuessPMT&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;guess&nbsp;is&nbsp;too&nbsp;low<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$GuessLow&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$GuessMiddle</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$GuessHigh</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$GuessHigh</span><span style="color: #007700">)&nbsp;break;<br />&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$GuessMiddle&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$GuessLow</span><span style="color: #007700">)&nbsp;break;<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$GuessMiddle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;round&nbsp;it&nbsp;to&nbsp;9&nbsp;decimal&nbsp;places<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;Interest&nbsp;rate&nbsp;has&nbsp;reached&nbsp;zero&nbsp;-&nbsp;calculation&nbsp;error&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br /></span><span style="color: #007700">}&nbsp;while&nbsp;(</span><span style="color: #0000BB">$GuessPMT&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">);<br /><br />return&nbsp;</span><span style="color: #0000BB">$int</span><span style="color: #007700">;<br /><br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;calc_rate&nbsp;=======================================================================<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">calc_payment</span><span style="color: #007700">(</span><span style="color: #0000BB">$pv</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$payno</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$int</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$accuracy</span><span style="color: #007700">)<br />{<br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;that&nbsp;required&nbsp;values&nbsp;have&nbsp;been&nbsp;supplied<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$pv</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;PRINCIPAL&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$payno</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;NUMBER&nbsp;of&nbsp;PAYMENTS&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$int</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;INTEREST&nbsp;RATE&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br />//&nbsp;now&nbsp;do&nbsp;the&nbsp;calculation&nbsp;using&nbsp;this&nbsp;formula:<br /><br />//******************************************<br />//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INT&nbsp;*&nbsp;((1&nbsp;+&nbsp;INT)&nbsp;**&nbsp;PAYNO)<br />//&nbsp;PMT&nbsp;=&nbsp;PV&nbsp;*&nbsp;--------------------------<br />//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((1&nbsp;+&nbsp;INT)&nbsp;**&nbsp;PAYNO)&nbsp;-&nbsp;1<br />//******************************************<br /><br /></span><span style="color: #0000BB">$int&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;convert&nbsp;to&nbsp;a&nbsp;percentage<br /></span><span style="color: #0000BB">$value1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$int&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">pow</span><span style="color: #007700">((</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$int</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$payno</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$value2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pow</span><span style="color: #007700">((</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$int</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$payno</span><span style="color: #007700">)&nbsp;-&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$pmt&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$pv&nbsp;</span><span style="color: #007700">*&nbsp;(</span><span style="color: #0000BB">$value1&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">$value2</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$accuracy&nbsp;specifies&nbsp;the&nbsp;number&nbsp;of&nbsp;decimal&nbsp;places&nbsp;required&nbsp;in&nbsp;the&nbsp;result<br /></span><span style="color: #0000BB">$pmt&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$accuracy</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">);<br /><br />return&nbsp;</span><span style="color: #0000BB">$pmt</span><span style="color: #007700">;<br /><br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;calc_payment&nbsp;====================================================================<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">print_schedule</span><span style="color: #007700">(</span><span style="color: #0000BB">$balance</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$rate</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$payment</span><span style="color: #007700">)<br />{<br /></span><span style="color: #FF8000">//&nbsp;check&nbsp;that&nbsp;required&nbsp;values&nbsp;have&nbsp;been&nbsp;supplied<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$balance</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;PRINCIPAL&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$rate</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;INTEREST&nbsp;RATE&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$payment</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&nbsp;class='error'&gt;a&nbsp;value&nbsp;for&nbsp;PAYMENT&nbsp;is&nbsp;required&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;exit;<br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;table&nbsp;border="1"&gt;'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'&lt;colgroup&nbsp;align="right"&nbsp;width="20"&gt;'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'&lt;colgroup&nbsp;align="right"&nbsp;width="115"&gt;'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'&lt;colgroup&nbsp;align="right"&nbsp;width="115"&gt;'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'&lt;colgroup&nbsp;align="right"&nbsp;width="115"&gt;'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'&lt;colgroup&nbsp;align="right"&nbsp;width="115"&gt;'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'&lt;tr&gt;&lt;th&gt;#&lt;/th&gt;&lt;th&gt;PAYMENT&lt;/th&gt;&lt;th&gt;INTEREST&lt;/th&gt;&lt;th&gt;PRINCIPAL&lt;/th&gt;&lt;th&gt;BALANCE&lt;/th&gt;&lt;/tr&gt;'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$count&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />do&nbsp;{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$count</span><span style="color: #007700">++;<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;calculate&nbsp;interest&nbsp;on&nbsp;outstanding&nbsp;balance<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$interest&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$balance&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">$rate</span><span style="color: #007700">/</span><span style="color: #0000BB">100</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;what&nbsp;portion&nbsp;of&nbsp;payment&nbsp;applies&nbsp;to&nbsp;principal?<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$principal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$payment&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$interest</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;watch&nbsp;out&nbsp;for&nbsp;balance&nbsp;&lt;&nbsp;payment<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$balance&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$payment</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$principal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$balance</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$payment&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$interest&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$principal</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br />&nbsp;&nbsp;&nbsp;//&nbsp;reduce&nbsp;balance&nbsp;by&nbsp;principal&nbsp;paid<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$balance&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$balance&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$principal</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;watch&nbsp;for&nbsp;rounding&nbsp;error&nbsp;that&nbsp;leaves&nbsp;a&nbsp;tiny&nbsp;balance<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$balance&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$principal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$principal&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$balance</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$interest&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$interest&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$balance</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$balance&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"&lt;tr&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;td&gt;</span><span style="color: #0000BB">$count</span><span style="color: #DD0000">&lt;/td&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;td&gt;"&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$payment</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">","</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"&lt;/td&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;td&gt;"&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$interest</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">","</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"&lt;/td&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;td&gt;"&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$principal</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">","</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"&lt;/td&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;td&gt;"&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$balance</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">","</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"&lt;/td&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;/tr&gt;"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;@</span><span style="color: #0000BB">$totPayment&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$totPayment&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$payment</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;@</span><span style="color: #0000BB">$totInterest&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$totInterest&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$interest</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;@</span><span style="color: #0000BB">$totPrincipal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$totPrincipal&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$principal</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$payment&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$interest</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;/table&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&gt;Payment&nbsp;&lt;&nbsp;Interest&nbsp;amount&nbsp;-&nbsp;rate&nbsp;is&nbsp;too&nbsp;high,&nbsp;or&nbsp;payment&nbsp;is&nbsp;too&nbsp;low&lt;/p&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;if<br /><br /></span><span style="color: #007700">}&nbsp;while&nbsp;(</span><span style="color: #0000BB">$balance&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"&lt;tr&gt;"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;td&gt;&amp;nbsp;&lt;/td&gt;"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;td&gt;&lt;b&gt;"&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$totPayment</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">","</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"&lt;/b&gt;&lt;/td&gt;"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;td&gt;&lt;b&gt;"&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$totInterest</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">","</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"&lt;/b&gt;&lt;/td&gt;"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;td&gt;&lt;b&gt;"&nbsp;</span><span style="color: #007700">.</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$totPrincipal</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">","</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"&lt;/b&gt;&lt;/td&gt;"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;td&gt;&amp;nbsp;&lt;/td&gt;"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;/tr&gt;"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;/table&gt;"</span><span style="color: #007700">;<br /><br />}&nbsp;</span><span style="color: #FF8000">//&nbsp;print_schedule&nbsp;==================================================================<br /></span><span style="color: #0000BB">?&gt;<br /></span>
</span>
</code>
</body>
</html>

